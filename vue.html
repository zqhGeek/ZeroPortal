<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios@0.12.0/dist/axios.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/lodash@4.13.1/lodash.min.js"></script>

</head>
<body>
    <div id="app" >
        文本插值：{{item_data}}
        <div>使用v-htm标签输入html代码<span v-html="Html"></span></div>
        <div v-bind:class="color">测试Bind方法</div>
        <div>{{ message.split('').reverse().join('') }}</div>
        <div >不同方式的反转:{{reversed_message}}</div>
        <div v-bind:id="'list-'+id"></div>
        <p v-if="condition">你能否看到我取决于v-if中的condition</p>
        <div id="click1"  @click="click1" :class="{active: isActive}"style="width: 200px;height: 200px; text-align: center;line-height: 100px;">嵌套点击1
            <div class = "click2" @click.stop = "click2">嵌套点击2</div>
        </div>
        <div>
            <p>
                填入一个动态值
                <input type="number"  v-model="ask_number">
            </p>
            <p>{{answer}}</p>
        </div>
       
    </div>
    
</body>
<script type="text/javascript">
    var message_data = { 
        item_data : "监听数据相应--mvvm",
        Html : '<span style="color:red">这是一个植入的html代码</span>',
        color: 'red',
        message: "反转",
        id: 11,
        condition:true,
        isActive:true,
        answer:"可以尝试填入0，有意外惊喜哦",
        ask_number:""
};
    var vue = new Vue({
        el:"#app",
        data:message_data,
        computed:{
            reversed_message:function(){
                return this.message.split('').reverse().join('')
            }
        },
        watch:{
            ask_number:function(newNumber,oldNumber){
                this.answer="我想想给你啥惊喜"
                this.debouncedGetAnswer()
            }
        },
        methods: {
            getAnswer:function(){
                console.log(this.ask_number);
                if(this.ask_number === ""){
                    this.answer="可以尝试填入0，有意外惊喜哦"
                    return
                }
                if(this.ask_number!=0){
                    this.answer = "啥也没有！！！"
                    return
                }
                this.answer = "正在打包........"
                var vm =this
                axios.get("https://yesno.wtf/api")
                    .then(function(response){
                        vm.answer = _.capitalize(response.data.answer)
                    })
                    .catch(function(error){
                        vm.answer = "Errooooooooooooor"
                    })
            },
            click1:function () {
                this.answer="我想想给你啥惊喜111"
                console.log("点击事件1");
            },
            click2:function(){
                    console.log("点击事件2");
            }
        },
        beforeCreate() {
            console.log("beforeCreate");
        },
        created() {
            console.log("created");
            this.debouncedGetAnswer = _.debounce(this.getAnswer,500)
        },
        beforeMount() {
            console.log("beforeMount");
        },
        mounted() {
            console.log("mounted");
        },
        beforeUpdate() {
            console.log("beforeUpdate");
        },
        updated() {
            console.log("update");
        },
        beforeDestroy() {
            console.log("beforeDestroy");
        },
        destroyed() {
            console.log("destroyed");
        }
    });
    message_data.item_data = "遵循MVVM模式"
    vue.$watch("item_data",function(newValue,oldValue){
        console.log(newValue,oldValue)
    })
    
    message_data.item_data = "遵循MVVM模式====="
    console.log(vue.item_data==message_data.item_data)
</script>
<style type="text/css">
.red{
    color: red;
    font-size: 100px;
}
#click1{
    font-size: 30px;
}
.click2{
    font-size: 20px;
}
.active{
    background: #ffff43;
}
</style>
</html>